# Schema for player data extraction
# Contains fields from both Level.sav character entities and Players/*.sav account files

fields:
  # ===== From Level.sav character entities =====
  
  # Basic info
  NickName:
    description: "Player's in-game character name"
    root_key: "NickName"
    path: ["value"]
    default: "Unknown"
  
  Level:
    description: "Player's current level (1-55)"
    root_key: "Level"
    path: ["value"]
    default: 1
  
  Exp:
    description: "Total experience points accumulated by player"
    root_key: "Exp"
    path: ["value"]
    default: 0
  
  # HP - stored as FixedPoint64 (milli-HP / 1000)
  Hp:
    description: "Current player HP value, stored as milli-HP (divided by 1000)"
    root_key: "Hp"
    path: ["value", "Value", "value"]
    transform: divide_by_1000
    default: 100
  
  # MP/Stamina
  MP:
    description: "Current player stamina/MP value"
    root_key: "MP"
    path: ["value"]
    default: null
  
  # Condition
  FullStomach:
    description: "Player's current hunger/food level (0-100)"
    root_key: "FullStomach"
    path: ["value"]
    default: 100.0
  
  SanityValue:
    description: "Player's current sanity/mental health (0-100)"
    root_key: "SanityValue"
    path: ["value"]
    default: 100.0
  
  # ===== From Players/*.sav account files =====
  # Note: These paths assume data is already at SaveData.value level
  
  # Player identification
  PlayerUId:
    description: "Player's unique account ID"
    root_key: "PlayerUId"
    path: ["value"]
    default: null
  
  # Individual character instance ID (links to Level.sav)
  IndividualId:
    description: "Player character instance ID linking to Level.sav"
    root_key: "IndividualId"
    path: ["value", "InstanceId", "value"]
    default: null
  
  # Container IDs for pal storage
  OtomoCharacterContainerId:
    description: "Party/Otomo container ID"
    root_key: "OtomoCharacterContainerId"
    path: ["value", "ID", "value"]
    default: null
  
  PalStorageContainerId:
    description: "Palbox storage container ID"
    root_key: "PalStorageContainerId"
    path: ["value", "ID", "value"]
    default: null

# Lists
lists:
  GotStatusPointList:
    description: "Stat points allocated from leveling up"
    root_key: "GotStatusPointList"
    path: ["value", "values"]
    items:
      stat_name:
        description: "Name of stat being upgraded (e.g., HP, Attack, Defense)"
        path: ["StatusName", "value"]
      stat_points:
        description: "Number of points allocated to this stat"
        path: ["StatusPoint", "value"]
  
  GotExStatusPointList:
    description: "Additional stat points from Ancient Technology upgrades"
    root_key: "GotExStatusPointList"
    path: ["value", "values"]
    items:
      stat_name:
        description: "Name of stat from Ancient Tech (e.g., WorkSpeed, Weight)"
        path: ["StatusName", "value"]
      stat_points:
        description: "Number of Ancient Tech points in this stat"
        path: ["StatusPoint", "value"]
